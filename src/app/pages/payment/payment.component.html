<div class="mt-3 mx-4">
  <div class="flex items-center">
    <h1 class="text-lg flex-grow">Payments</h1>

    <button mat-icon-button color="primary">
      <mat-icon class="text-green-500">add_circle</mat-icon>
    </button>
  </div>
</div>

<mat-table [dataSource]="paymentDataSource">
  <ng-container matColumnDef="type">
    <mat-header-cell *matHeaderCellDef>Type</mat-header-cell>
    <mat-cell *matCellDef="let row"> {{ row.type }} </mat-cell>
  </ng-container>
  <ng-container matColumnDef="date">
    <mat-header-cell *matHeaderCellDef>Date</mat-header-cell>
    <mat-cell *matCellDef="let row"> {{ row.date }} </mat-cell>
  </ng-container>
  <ng-container matColumnDef="number">
    <mat-header-cell *matHeaderCellDef>Number</mat-header-cell>
    <mat-cell *matCellDef="let row"> {{ row.number }} </mat-cell>
  </ng-container>
  <ng-container matColumnDef="method">
    <mat-header-cell *matHeaderCellDef>Method</mat-header-cell>
    <mat-cell *matCellDef="let row"> {{ row.method }} </mat-cell>
  </ng-container>
  <ng-container matColumnDef="name">
    <mat-header-cell *matHeaderCellDef>Customer Name</mat-header-cell>
    <mat-cell *matCellDef="let row"> {{ row.name }} </mat-cell>
  </ng-container>
  <ng-container matColumnDef="price">
    <mat-header-cell *matHeaderCellDef>Price</mat-header-cell>
    <mat-cell *matCellDef="let row"> {{ row.price }} </mat-cell>
  </ng-container>
  <ng-container matColumnDef="tax">
    <mat-header-cell *matHeaderCellDef>Tax</mat-header-cell>
    <mat-cell *matCellDef="let row"> {{ row.tax }} </mat-cell>
  </ng-container>
  <ng-container matColumnDef="total">
    <mat-header-cell *matHeaderCellDef>Total</mat-header-cell>
    <mat-cell *matCellDef="let row"> {{ row.total }} </mat-cell>
  </ng-container>
  <ng-container matColumnDef="isExempt">
    <mat-header-cell *matHeaderCellDef>Is Exempt?</mat-header-cell>
    <mat-cell *matCellDef="let row">
      <mat-checkbox (change)="onCheckboxChange($event, row)" [checked]="row.isExempt"></mat-checkbox
    ></mat-cell>
  </ng-container>

  <mat-header-row *matHeaderRowDef="paymentColumns"></mat-header-row>
  <mat-row *matRowDef="let row; columns: paymentColumns"></mat-row>
</mat-table>

<div class="mt-3 mx-4">
  <div class="flex items-center">
    <h1 class="text-lg flex-grow">Reports</h1>
  </div>
</div>

<mat-table [dataSource]="reportDataSource">
  <ng-container matColumnDef="month">
    <mat-header-cell *matHeaderCellDef> Month</mat-header-cell>
    <mat-cell *matCellDef="let row"> {{ row.month }} </mat-cell>
    <mat-footer-cell *matFooterCellDef>Total</mat-footer-cell>
  </ng-container>
  <ng-container matColumnDef="taxableSales">
    <mat-header-cell *matHeaderCellDef> Taxable Sales</mat-header-cell>
    <mat-cell *matCellDef="let row"> {{ row.taxableSales }} </mat-cell>
    <mat-footer-cell *matFooterCellDef>{{ getTotal("taxableSales") }}</mat-footer-cell>
  </ng-container>
  <ng-container matColumnDef="nonTaxableSales">
    <mat-header-cell *matHeaderCellDef> Non Taxable Sales</mat-header-cell>
    <mat-cell *matCellDef="let row"> {{ row.nonTaxableSales }} </mat-cell>
    <mat-footer-cell *matFooterCellDef>{{ getTotal("nonTaxableSales") }}</mat-footer-cell>
  </ng-container>
  <ng-container matColumnDef="netTaxableSales">
    <mat-header-cell *matHeaderCellDef> Net Taxable Sales</mat-header-cell>
    <mat-cell *matCellDef="let row"> {{ row.netTaxableSales }} </mat-cell>
    <mat-footer-cell *matFooterCellDef>{{ getTotal("netTaxableSales") }}</mat-footer-cell>
  </ng-container>

  <mat-header-row *matHeaderRowDef="reportColumns"></mat-header-row>
  <mat-row *matRowDef="let row; columns: reportColumns"></mat-row>
  <mat-footer-row *matFooterRowDef="reportColumns"></mat-footer-row>
</mat-table>
